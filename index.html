<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    <div class="buttons">
        <button class="rock">Rock</button>
        <button class="paper">Paper</button>
        <button class="scissors">Scissors</button>
    </div>
    <div class="result">

    </div>
    <div class="winner">

    </div>
    <script>
        let computerScore=0;
        let playerScore=0;
        let gameCount=0;

        const rock = document.querySelector('.rock');
        rock.addEventListener('click', () => playRound("rock", getComputerChoice()));
        
        const paper = document.querySelector('.paper');
        paper.addEventListener('click', () => playRound("paper", getComputerChoice()));
        
        const scissors = document.querySelector('.scissors');
        scissors.addEventListener('click', () => playRound("scissors", getComputerChoice()));

        const results = document.querySelector('.result')
              
        const runningScore = document.createElement('p');
        results.appendChild(runningScore);
        
        const whoWonRound = document.createElement('p');
        results.appendChild(whoWonRound);

        const winnerContaner = document.querySelector('.winner');
        const winnerText = document.createElement('p');

        function playRound(playerChoice,computerChoice){
            console.log(playerChoice);
            console.log(computerChoice);

            if (playerChoice === computerChoice){
                console.log("This Round is a Draw!");
                whoWonRound.textContent = "This Round is a Draw!";
                gameCount++;
            }
            else if(playerChoice === "rock" && computerChoice === "scissors"){
                console.log("Player Wins the Round");
                whoWonRound.textContent = "Player Wins the Round";
                gameCount++;
                playerScore++;
            }
            else if(playerChoice === "paper" && computerChoice === "rock"){
                console.log("Player Wins the Round");
                whoWonRound.textContent = "Player Wins the Round"
                gameCount++;
                playerScore++;
            }
            else if(playerChoice === "scissors" && computerChoice === "paper"){
                console.log("Player Wins the Round");
                whoWonRound.textContent = "Player Wins the Round";
                gameCount++;
                playerScore++;
            }else{
                console.log("Computer Wins the Round");
                whoWonRound.textContent = "Computer Wins the Round";
                gameCount++;
                computerScore++;
            }
            runningScore.textContent = `Player: ${playerScore} Computer: ${computerScore}`;
            console.log(gameCount);
            if(gameCount >= 5){
                const element = document.querySelector('.buttons');
                element.remove();
                let winnerTextContent;
                if(playerScore > computerScore){
                    winnerTextContent = 'Player Wins the Game!';
                }else if(playerScore < computerScore){
                    winnerTextContent = 'Computer Wins the Game!';
                }else{
                    winnerTextContent = 'The Game is a Draw!';
                }
                winnerText.textContent = winnerTextContent;
                winnerContaner.appendChild(winnerText);
            }
        }

        function getComputerChoice(){
            switch(Math.floor(Math.random()*3) + 1){
                case 1:
                    return "rock";
                    break;
                case 2:
                    return "paper";
                    break;
                case 3:
                    return "scissors";
                    break;
            }
        }
        
        
    </script>
</body>
</html>
